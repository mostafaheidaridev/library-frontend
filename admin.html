<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="css/styles.css">
    <script type="module" src="js/auth-check.js"></script>
    <script type="module" src="js/main.js"></script>
    <script type="module" src="js/admin.js"></script>
    <link rel="stylesheet" href="css/addItemsAdmin.css">
    <script type="module" src="js/add_new_publisher_admin.js"></script>
    <script type="module" src="js/add_new_author_admin.js"></script>
    <script type="module" src="js/add_new_book_admin.js"></script>
    <script type="module" src="js/nav.js"></script>
    <title>Admin | Library</title>
</head>

<body>
    <header>
        <nav id="main-nav">
            <div id="logo_div">
                <a href="index.html" title="Home">
                    <img src="images/logo.svg" alt="Library logo">
                </a>
            </div>

            <ul class="nav-links">
                <li><a href="index.html" title="Books List Page">Books</a></li>
                <li><a href="authors.html" title="Authors List Page">Authors</a></li>
            </ul>

            <ul class="auth-links">
            </ul>
            
            <button class="hamburger-menu" aria-label="Open navigation menu">
            <span></span>
            <span></span>
            <span></span>
            </button>

            <div class="mobile-menu-container">

                <ul class="mobile-nav-links">
                    <li><a href="index.html" title="Books List Page">Books</a></li>
                    <li><a href="authors.html" title="Authors List Page">Authors</a></li>
                    <li><a href="admin.html" title="Admin Page">Admin</a></li>
                </ul>

                <ul class="mobile-auth-links">
                    <li><a href="#" id="logout-link-mobile" title="Logout">Logout</a></li>
                </ul>
            </div>

            <div class="menu-overlay"></div>
        </nav>
    </header>

    

    <main>
        <div>
            <section id="author-section">
                <header class="author-header">
                    <h2>Add new author:</h2>
                </header>
            </section>
        <!-- <div id="admin-content"></div> -->
            <section id="publisher-section">
                <header class="publisher-header">
                    <h2>Add new publisher:</h2>
                </header>
            </section>
        </div>

        <section id="book-section">
            <header class="book-header">
                <h2>Add new book:</h2>
            </header>
        </section>
    </main>

    <template id="Add-new-author-template">
        <div>
            <form id="author-form" class="author-edit-form">
                <label>First Name: <input type="text" name="first_name" required></label>
                <label>Last Name: <input type="text" name="last_name" required></label>
                <button type="submit">Add Author</button>
            </form>
        </div>
        <div id="author-added-message"></div>
    </template>

    <template id="Add-new-publisher-template">
        <div>
            <form id="publisher-form" class="publisher-edit-form">
                <label>Publisher Name: <input type="text" name="publisher_name" required></label>
                <button type="submit">Add Publisher</button>
            </form>
        </div>
        <div id="publisher-added-message"></div>
    </template>

    <template id="Add-new-book-template">
        <div>
            <form id="book-form" class="book-edit-form">
                <label>Book Title: <input type="text" name="title" required></label>
                
                <label for="author-select">Author:</label>
                <div class="select-or-add">
                    <div class="searchable-select">
                        <input type="text" class="search-input" name="author_search" placeholder="Search authors..." aria-label="Search authors">
                        <input type="hidden" name="author_id" required>
                        <div class="search-results"></div>
                    </div>
                    <p>Either add a New Author og Search for existing one</p>
                    <button type="button" id="toggle-new-author">+ Add New Author</button>
                </div>
                
                <div id="new-author-fields" class="hidden">
                    <label>Author First Name: <input type="text" name="author_first_name"></label>
                    <label>Author Last Name: <input type="text" name="author_last_name"></label>
                </div>
    
                <label for="publisher-select">Publisher:</label>
                <div class="select-or-add">
                    <div class="searchable-select">
                        <input type="text" class="search-input" name="publisher_search" placeholder="Search publishers..." aria-label="Search publishers">
                        <input type="hidden" name="publisher_id" required>
                        <div class="search-results"></div>
                    </div>
                    <p>Either add a New Publisher og Search for existing one</p>
                    <button type="button" id="toggle-new-publisher">+ Add New Publisher</button>
                </div>
                
                <div id="new-publisher-fields" class="hidden">
                    <label>Publisher Name: <input type="text" name="publisher_name"></label>
                </div>
    
                <label>Publishing Year: 
                    <input 
                    id="year-book"
                    type="number" 
                    name="publishing_year" 
                    required 
                    min="1000" 
                    max="2025"
                    step="1"
                    inputmode="numeric"
                    pattern="\d{4}"
                    title="Please enter a valid 4-digit year"
                >
                </label>
                
                <button type="submit">Add Book</button>
            </form>
        </div>
        <div id="book-added-message"></div>
    </template>

    <footer>
        <p>&copy; Library Exam First Semester Project 2025</p>
    </footer>
</body>

</html>